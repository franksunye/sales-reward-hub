# Git分支版本说明

## 📋 分支概览

当前项目维护三个主要分支，每个分支有不同的用途和稳定性级别：

| 分支名称 | 状态 | 用途 | 推荐使用场景 |
|---------|------|------|-------------|
| **stable-maintenance** | 🟢 当前活跃 | 稳定维护版本 | 生产环境、日常维护 |
| **main** | 🟡 稳定 | 主干版本 | 发布版本、稳定功能 |
| **refactor** | 🔵 开发中 | 重构版本 | 新功能开发、架构改进 |

---

## 🔍 分支详细说明

### stable-maintenance (当前分支)
- **最新提交**: `6a73fe8` - docs: 添加send_status机制移除升级计划
- **特点**: 
  - 生产环境稳定运行版本
  - 包含最新的维护更新和bug修复
  - 8月份改动和优化已集成
  - 工单过滤、配置优化及通知模块精简
- **适用于**: 
  - 日常生产环境部署
  - 稳定性要求高的场景
  - 维护性更新

### main
- **特点**:
  - 项目主干分支
  - 相对稳定的功能集合
  - 作为发布基准
- **适用于**:
  - 正式版本发布
  - 功能完整性验证
  - 长期稳定部署

### refactor
- **最新提交**: `3c2c1c8` - 合并北京和上海数据处理差异分析文档到业务规则文档
- **特点**:
  - 🔄 **双存储模式重构**: 实现文件存储和数据库存储的统一处理函数
  - 🧪 **等价性验证**: 完整的并行测试和结果比较功能
  - 📋 **通知系统重构**: 统一的活动配置结构和模块化通知工具
  - 🧹 **代码清理**: 移除delay_seconds相关代码，清理历史配置
  - 📚 **文档整合**: 减少核心文档数量，优化项目管理
- **适用于**:
  - 双存储模式功能验证
  - 架构重构测试
  - 新功能开发和试验

---

## 🚀 使用建议

### 生产环境
```bash
# 推荐使用 stable-maintenance 分支
git checkout stable-maintenance
python main.py
```

### 开发测试
```bash
# 使用 refactor 分支进行双存储模式测试
git checkout refactor
python main.py --env dev
# 或运行并行验证测试
python scripts/parallel_test.py
```

### 版本发布
```bash
# 基于 main 分支进行版本发布
git checkout main
# 进行发布流程
```

---

## 📝 分支切换注意事项

1. **数据备份**: 切换分支前备份重要数据文件
2. **配置检查**: 不同分支可能有不同的配置要求
3. **依赖更新**: 某些分支可能需要不同的依赖包
4. **测试验证**: 切换后进行功能测试确保正常运行

---

## 🔄 分支同步策略

- **stable-maintenance** ← 定期从main合并稳定功能
- **main** ← 从refactor合并经过验证的新功能
- **refactor** ← 持续开发新功能和架构改进

## 📋 refactor分支重点功能

### 🔧 核心重构内容
1. **双存储模式统一**: 文件存储 ↔ 数据库存储完全等价
2. **通知系统模块化**: 统一配置结构，支持多种通知渠道
3. **测试验证体系**: 并行测试、结果比较、等价性验证
4. **配置管理优化**: 清理历史配置，统一管理结构

### 🎯 适用场景
- **迁移验证**: 从文件存储向数据库存储平滑迁移
- **功能测试**: 验证新旧系统的完全等价性
- **架构升级**: 为未来扩展奠定基础

---

**文档版本**: v1.1 | **创建日期**: 2025-08-14 | **最后更新**: 2025-08-14 | **维护者**: Frank & AI助手
